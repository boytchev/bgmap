<!DOCTYPE html>

<!-- bgmap.js: map of Bulgaria with provinces -->

<html>
<head>
	<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
	<script src="js/three.min.js"></script>
	<script src="js/OrbitControls.js"></script>
	<link rel="stylesheet" href="example.css">
</head>

<body>
	<script>
		const MAP_WIDTH = 45;
		const MAP_HEIGHT = 28;
	</script>

	
	<script type="module">
	
		import {Map} from '../map.js';
		import {scene} from './example.js';


		new Map( '../map.xml', drawMap );

		function drawMap( map )
		{
			var geometry, material, region, regionName;
			
			// draw Bulgaria as 3D plate
			geometry = map.geometry3D( 'BG' );
			material = new THREE.MeshStandardMaterial( {
							color: 'crimson',
							roughness: 1,
							metalness: 0,
						} );
							
			region = new THREE.Mesh( geometry, material );
			region.castShadow = true;

			scene.add( region );
	
			// draw provinces outlines
			for( regionName in map.regions ) if( regionName!='BG' )
			{
				geometry = map.geometry2D( regionName );
				material = new THREE.LineBasicMaterial( {color: 'black'} );
				
				region = new THREE.Line( geometry, material );
					
				scene.add( region );
			}
		}
		 
		 
	</script>
</body>
</html>


